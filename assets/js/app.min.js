!function(){var e,t,r,n,i,s,o,a,l,u,c,d,h,f,p,g,m,y,v,b,w,x,k,_,S,P,L,E,T=function(e){var t=new T.Builder;return t.pipeline.add(T.trimmer,T.stopWordFilter,T.stemmer),t.searchPipeline.add(T.stemmer),e.call(t,t),t.build()};T.version="2.3.0",T.utils={},T.utils.warn=(e=this,function(t){e.console&&console.warn&&console.warn(t)}),T.utils.asString=function(e){return void 0===e||null===e?"":e.toString()},T.utils.clone=function(e){if(null===e||void 0===e)return e;for(var t=Object.create(null),r=Object.keys(e),n=0;n<r.length;n++){var i=r[n],s=e[i];if(Array.isArray(s))t[i]=s.slice();else{if("string"!=typeof s&&"number"!=typeof s&&"boolean"!=typeof s)throw new TypeError("clone is not deep and does not support nested objects");t[i]=s}}return t},T.FieldRef=function(e,t,r){this.docRef=e,this.fieldName=t,this._stringValue=r},T.FieldRef.joiner="/",T.FieldRef.fromString=function(e){var t=e.indexOf(T.FieldRef.joiner);if(-1===t)throw"malformed field ref string";var r=e.slice(0,t),n=e.slice(t+1);return new T.FieldRef(n,r,e)},T.FieldRef.prototype.toString=function(){return void 0==this._stringValue&&(this._stringValue=this.fieldName+T.FieldRef.joiner+this.docRef),this._stringValue},T.Set=function(e){if(this.elements=Object.create(null),e){this.length=e.length;for(var t=0;t<this.length;t++)this.elements[e[t]]=!0}else this.length=0},T.Set.complete={intersect:function(e){return e},union:function(e){return e},contains:function(){return!0}},T.Set.empty={intersect:function(){return this},union:function(e){return e},contains:function(){return!1}},T.Set.prototype.contains=function(e){return!!this.elements[e]},T.Set.prototype.intersect=function(e){var t,r,n,i=[];this.length<e.length?(t=this,r=e):(t=e,r=this),n=Object.keys(t.elements);for(var s=0;s<n.length;s++){var o=n[s];o in r.elements&&i.push(o)}return new T.Set(i)},T.Set.prototype.union=function(e){return new T.Set(Object.keys(this.elements).concat(Object.keys(e.elements)))},T.idf=function(e,t){var r=0;for(var n in e)"_index"!=n&&(r+=Object.keys(e[n]).length);var i=(t-r+.5)/(r+.5);return Math.log(1+Math.abs(i))},T.Token=function(e,t){this.str=e||"",this.metadata=t||{}},T.Token.prototype.toString=function(){return this.str},T.Token.prototype.update=function(e){return this.str=e(this.str,this.metadata),this},T.Token.prototype.clone=function(e){return e=e||function(e){return e},new T.Token(e(this.str,this.metadata),this.metadata)},T.tokenizer=function(e,t){if(null==e||void 0==e)return[];if(Array.isArray(e))return e.map(function(e){return new T.Token(T.utils.asString(e).toLowerCase(),T.utils.clone(t))});for(var r=e.toString().trim().toLowerCase(),n=r.length,i=[],s=0,o=0;s<=n;s++){var a=s-o;if(r.charAt(s).match(T.tokenizer.separator)||s==n){if(a>0){var l=T.utils.clone(t)||{};l.position=[o,a],l.index=i.length,i.push(new T.Token(r.slice(o,s),l))}o=s+1}}return i},T.tokenizer.separator=/[\s\-]+/,T.Pipeline=function(){this._stack=[]},T.Pipeline.registeredFunctions=Object.create(null),T.Pipeline.registerFunction=function(e,t){t in this.registeredFunctions&&T.utils.warn("Overwriting existing registered function: "+t),e.label=t,T.Pipeline.registeredFunctions[e.label]=e},T.Pipeline.warnIfFunctionNotRegistered=function(e){e.label&&e.label in this.registeredFunctions||T.utils.warn("Function is not registered with pipeline. This may cause problems when serialising the index.\n",e)},T.Pipeline.load=function(e){var t=new T.Pipeline;return e.forEach(function(e){var r=T.Pipeline.registeredFunctions[e];if(!r)throw new Error("Cannot load unregistered function: "+e);t.add(r)}),t},T.Pipeline.prototype.add=function(){Array.prototype.slice.call(arguments).forEach(function(e){T.Pipeline.warnIfFunctionNotRegistered(e),this._stack.push(e)},this)},T.Pipeline.prototype.after=function(e,t){T.Pipeline.warnIfFunctionNotRegistered(t);var r=this._stack.indexOf(e);if(-1==r)throw new Error("Cannot find existingFn");r+=1,this._stack.splice(r,0,t)},T.Pipeline.prototype.before=function(e,t){T.Pipeline.warnIfFunctionNotRegistered(t);var r=this._stack.indexOf(e);if(-1==r)throw new Error("Cannot find existingFn");this._stack.splice(r,0,t)},T.Pipeline.prototype.remove=function(e){var t=this._stack.indexOf(e);-1!=t&&this._stack.splice(t,1)},T.Pipeline.prototype.run=function(e){for(var t=this._stack.length,r=0;r<t;r++){for(var n=this._stack[r],i=[],s=0;s<e.length;s++){var o=n(e[s],s,e);if(void 0!==o&&""!==o)if(o instanceof Array)for(var a=0;a<o.length;a++)i.push(o[a]);else i.push(o)}e=i}return e},T.Pipeline.prototype.runString=function(e,t){var r=new T.Token(e,t);return this.run([r]).map(function(e){return e.toString()})},T.Pipeline.prototype.reset=function(){this._stack=[]},T.Pipeline.prototype.toJSON=function(){return this._stack.map(function(e){return T.Pipeline.warnIfFunctionNotRegistered(e),e.label})},T.Vector=function(e){this._magnitude=0,this.elements=e||[]},T.Vector.prototype.positionForIndex=function(e){if(0==this.elements.length)return 0;for(var t=0,r=this.elements.length/2,n=r-t,i=Math.floor(n/2),s=this.elements[2*i];n>1&&(s<e&&(t=i),s>e&&(r=i),s!=e);)n=r-t,i=t+Math.floor(n/2),s=this.elements[2*i];return s==e?2*i:s>e?2*i:s<e?2*(i+1):void 0},T.Vector.prototype.insert=function(e,t){this.upsert(e,t,function(){throw"duplicate index"})},T.Vector.prototype.upsert=function(e,t,r){this._magnitude=0;var n=this.positionForIndex(e);this.elements[n]==e?this.elements[n+1]=r(this.elements[n+1],t):this.elements.splice(n,0,e,t)},T.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;for(var e=0,t=this.elements.length,r=1;r<t;r+=2){var n=this.elements[r];e+=n*n}return this._magnitude=Math.sqrt(e)},T.Vector.prototype.dot=function(e){for(var t=0,r=this.elements,n=e.elements,i=r.length,s=n.length,o=0,a=0,l=0,u=0;l<i&&u<s;)(o=r[l])<(a=n[u])?l+=2:o>a?u+=2:o==a&&(t+=r[l+1]*n[u+1],l+=2,u+=2);return t},T.Vector.prototype.similarity=function(e){return this.dot(e)/this.magnitude()||0},T.Vector.prototype.toArray=function(){for(var e=new Array(this.elements.length/2),t=1,r=0;t<this.elements.length;t+=2,r++)e[r]=this.elements[t];return e},T.Vector.prototype.toJSON=function(){return this.elements},T.stemmer=(t={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},r={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},n="[aeiouy]",i="[^aeiou][^aeiouy]*",s=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*"),o=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*"),a=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*([aeiouy][aeiou]*)?$"),l=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy]"),u=/^(.+?)(ss|i)es$/,c=/^(.+?)([^s])s$/,d=/^(.+?)eed$/,h=/^(.+?)(ed|ing)$/,f=/.$/,p=/(at|bl|iz)$/,g=new RegExp("([^aeiouylsz])\\1$"),m=new RegExp("^"+i+n+"[^aeiouwxy]$"),y=/^(.+?[^aeiou])y$/,v=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,b=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,w=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,x=/^(.+?)(s|t)(ion)$/,k=/^(.+?)e$/,_=/ll$/,S=new RegExp("^"+i+n+"[^aeiouwxy]$"),P=function(e){var n,i,P,L,E,T,O;if(e.length<3)return e;if("y"==(P=e.substr(0,1))&&(e=P.toUpperCase()+e.substr(1)),E=c,(L=u).test(e)?e=e.replace(L,"$1$2"):E.test(e)&&(e=e.replace(E,"$1$2")),E=h,(L=d).test(e)){var I=L.exec(e);(L=s).test(I[1])&&(L=f,e=e.replace(L,""))}else if(E.test(e)){n=(I=E.exec(e))[1],(E=l).test(n)&&(T=g,O=m,(E=p).test(e=n)?e+="e":T.test(e)?(L=f,e=e.replace(L,"")):O.test(e)&&(e+="e"))}(L=y).test(e)&&(e=(n=(I=L.exec(e))[1])+"i");(L=v).test(e)&&(n=(I=L.exec(e))[1],i=I[2],(L=s).test(n)&&(e=n+t[i]));(L=b).test(e)&&(n=(I=L.exec(e))[1],i=I[2],(L=s).test(n)&&(e=n+r[i]));if(E=x,(L=w).test(e))n=(I=L.exec(e))[1],(L=o).test(n)&&(e=n);else if(E.test(e)){n=(I=E.exec(e))[1]+I[2],(E=o).test(n)&&(e=n)}(L=k).test(e)&&(n=(I=L.exec(e))[1],E=a,T=S,((L=o).test(n)||E.test(n)&&!T.test(n))&&(e=n));return E=o,(L=_).test(e)&&E.test(e)&&(L=f,e=e.replace(L,"")),"y"==P&&(e=P.toLowerCase()+e.substr(1)),e},function(e){return e.update(P)}),T.Pipeline.registerFunction(T.stemmer,"stemmer"),T.generateStopWordFilter=function(e){var t=e.reduce(function(e,t){return e[t]=t,e},{});return function(e){if(e&&t[e.toString()]!==e.toString())return e}},T.stopWordFilter=T.generateStopWordFilter(["a","able","about","across","after","all","almost","also","am","among","an","and","any","are","as","at","be","because","been","but","by","can","cannot","could","dear","did","do","does","either","else","ever","every","for","from","get","got","had","has","have","he","her","hers","him","his","how","however","i","if","in","into","is","it","its","just","least","let","like","likely","may","me","might","most","must","my","neither","no","nor","not","of","off","often","on","only","or","other","our","own","rather","said","say","says","she","should","since","so","some","than","that","the","their","them","then","there","these","they","this","tis","to","too","twas","us","wants","was","we","were","what","when","where","which","while","who","whom","why","will","with","would","yet","you","your"]),T.Pipeline.registerFunction(T.stopWordFilter,"stopWordFilter"),T.trimmer=function(e){return e.update(function(e){return e.replace(/^\W+/,"").replace(/\W+$/,"")})},T.Pipeline.registerFunction(T.trimmer,"trimmer"),T.TokenSet=function(){this.final=!1,this.edges={},this.id=T.TokenSet._nextId,T.TokenSet._nextId+=1},T.TokenSet._nextId=1,T.TokenSet.fromArray=function(e){for(var t=new T.TokenSet.Builder,r=0,n=e.length;r<n;r++)t.insert(e[r]);return t.finish(),t.root},T.TokenSet.fromClause=function(e){return"editDistance"in e?T.TokenSet.fromFuzzyString(e.term,e.editDistance):T.TokenSet.fromString(e.term)},T.TokenSet.fromFuzzyString=function(e,t){for(var r=new T.TokenSet,n=[{node:r,editsRemaining:t,str:e}];n.length;){var i,s,o,a=n.pop();if(a.str.length>0)(s=a.str.charAt(0))in a.node.edges?i=a.node.edges[s]:(i=new T.TokenSet,a.node.edges[s]=i),1==a.str.length?i.final=!0:n.push({node:i,editsRemaining:a.editsRemaining,str:a.str.slice(1)});if(a.editsRemaining>0&&a.str.length>1)(s=a.str.charAt(1))in a.node.edges?o=a.node.edges[s]:(o=new T.TokenSet,a.node.edges[s]=o),a.str.length<=2?o.final=!0:n.push({node:o,editsRemaining:a.editsRemaining-1,str:a.str.slice(2)});if(a.editsRemaining>0&&1==a.str.length&&(a.node.final=!0),a.editsRemaining>0&&a.str.length>=1){if("*"in a.node.edges)var l=a.node.edges["*"];else{l=new T.TokenSet;a.node.edges["*"]=l}1==a.str.length?l.final=!0:n.push({node:l,editsRemaining:a.editsRemaining-1,str:a.str.slice(1)})}if(a.editsRemaining>0){if("*"in a.node.edges)var u=a.node.edges["*"];else{u=new T.TokenSet;a.node.edges["*"]=u}0==a.str.length?u.final=!0:n.push({node:u,editsRemaining:a.editsRemaining-1,str:a.str})}if(a.editsRemaining>0&&a.str.length>1){var c,d=a.str.charAt(0),h=a.str.charAt(1);h in a.node.edges?c=a.node.edges[h]:(c=new T.TokenSet,a.node.edges[h]=c),1==a.str.length?c.final=!0:n.push({node:c,editsRemaining:a.editsRemaining-1,str:d+a.str.slice(2)})}}return r},T.TokenSet.fromString=function(e){for(var t=new T.TokenSet,r=t,n=!1,i=0,s=e.length;i<s;i++){var o=e[i],a=i==s-1;if("*"==o)n=!0,t.edges[o]=t,t.final=a;else{var l=new T.TokenSet;l.final=a,t.edges[o]=l,t=l,n&&(t.edges["*"]=r)}}return r},T.TokenSet.prototype.toArray=function(){for(var e=[],t=[{prefix:"",node:this}];t.length;){var r=t.pop(),n=Object.keys(r.node.edges),i=n.length;r.node.final&&e.push(r.prefix);for(var s=0;s<i;s++){var o=n[s];t.push({prefix:r.prefix.concat(o),node:r.node.edges[o]})}}return e},T.TokenSet.prototype.toString=function(){if(this._str)return this._str;for(var e=this.final?"1":"0",t=Object.keys(this.edges).sort(),r=t.length,n=0;n<r;n++){var i=t[n];e=e+i+this.edges[i].id}return e},T.TokenSet.prototype.intersect=function(e){for(var t=new T.TokenSet,r=void 0,n=[{qNode:e,output:t,node:this}];n.length;){r=n.pop();for(var i=Object.keys(r.qNode.edges),s=i.length,o=Object.keys(r.node.edges),a=o.length,l=0;l<s;l++)for(var u=i[l],c=0;c<a;c++){var d=o[c];if(d==u||"*"==u){var h=r.node.edges[d],f=r.qNode.edges[u],p=h.final&&f.final,g=void 0;d in r.output.edges?(g=r.output.edges[d]).final=g.final||p:((g=new T.TokenSet).final=p,r.output.edges[d]=g),n.push({qNode:f,output:g,node:h})}}}return t},T.TokenSet.Builder=function(){this.previousWord="",this.root=new T.TokenSet,this.uncheckedNodes=[],this.minimizedNodes={}},T.TokenSet.Builder.prototype.insert=function(e){var t,r=0;if(e<this.previousWord)throw new Error("Out of order word insertion");for(var n=0;n<e.length&&n<this.previousWord.length&&e[n]==this.previousWord[n];n++)r++;this.minimize(r),t=0==this.uncheckedNodes.length?this.root:this.uncheckedNodes[this.uncheckedNodes.length-1].child;for(n=r;n<e.length;n++){var i=new T.TokenSet,s=e[n];t.edges[s]=i,this.uncheckedNodes.push({parent:t,char:s,child:i}),t=i}t.final=!0,this.previousWord=e},T.TokenSet.Builder.prototype.finish=function(){this.minimize(0)},T.TokenSet.Builder.prototype.minimize=function(e){for(var t=this.uncheckedNodes.length-1;t>=e;t--){var r=this.uncheckedNodes[t],n=r.child.toString();n in this.minimizedNodes?r.parent.edges[r.char]=this.minimizedNodes[n]:(r.child._str=n,this.minimizedNodes[n]=r.child),this.uncheckedNodes.pop()}},T.Index=function(e){this.invertedIndex=e.invertedIndex,this.fieldVectors=e.fieldVectors,this.tokenSet=e.tokenSet,this.fields=e.fields,this.pipeline=e.pipeline},T.Index.prototype.search=function(e){return this.query(function(t){new T.QueryParser(e,t).parse()})},T.Index.prototype.query=function(e){for(var t=new T.Query(this.fields),r=Object.create(null),n=Object.create(null),i=Object.create(null),s=Object.create(null),o=Object.create(null),a=0;a<this.fields.length;a++)n[this.fields[a]]=new T.Vector;e.call(t,t);for(a=0;a<t.clauses.length;a++){var l=t.clauses[a],u=null,c=T.Set.complete;u=l.usePipeline?this.pipeline.runString(l.term,{fields:l.fields}):[l.term];for(var d=0;d<u.length;d++){var h=u[d];l.term=h;var f=T.TokenSet.fromClause(l),p=this.tokenSet.intersect(f).toArray();if(0===p.length&&l.presence===T.Query.presence.REQUIRED){for(var g=0;g<l.fields.length;g++){s[F=l.fields[g]]=T.Set.empty}break}for(var m=0;m<p.length;m++){var y=p[m],v=this.invertedIndex[y],b=v._index;for(g=0;g<l.fields.length;g++){var w=v[F=l.fields[g]],x=Object.keys(w),k=y+"/"+F,_=new T.Set(x);if(l.presence==T.Query.presence.REQUIRED&&(c=c.union(_),void 0===s[F]&&(s[F]=T.Set.complete)),l.presence!=T.Query.presence.PROHIBITED){if(n[F].upsert(b,l.boost,function(e,t){return e+t}),!i[k]){for(var S=0;S<x.length;S++){var P,L=x[S],E=new T.FieldRef(L,F),O=w[L];void 0===(P=r[E])?r[E]=new T.MatchData(y,F,O):P.add(y,F,O)}i[k]=!0}}else void 0===o[F]&&(o[F]=T.Set.empty),o[F]=o[F].union(_)}}}if(l.presence===T.Query.presence.REQUIRED)for(g=0;g<l.fields.length;g++){s[F=l.fields[g]]=s[F].intersect(c)}}var I=T.Set.complete,Q=T.Set.empty;for(a=0;a<this.fields.length;a++){var F;s[F=this.fields[a]]&&(I=I.intersect(s[F])),o[F]&&(Q=Q.union(o[F]))}var j=Object.keys(r),N=[],A=Object.create(null);if(t.isNegated()){j=Object.keys(this.fieldVectors);for(a=0;a<j.length;a++){E=j[a];var C=T.FieldRef.fromString(E);r[E]=new T.MatchData}}for(a=0;a<j.length;a++){var R=(C=T.FieldRef.fromString(j[a])).docRef;if(I.contains(R)&&!Q.contains(R)){var D,z=this.fieldVectors[C],B=n[C.fieldName].similarity(z);if(void 0!==(D=A[R]))D.score+=B,D.matchData.combine(r[C]);else{var M={ref:R,score:B,matchData:r[C]};A[R]=M,N.push(M)}}}return N.sort(function(e,t){return t.score-e.score})},T.Index.prototype.toJSON=function(){var e=Object.keys(this.invertedIndex).sort().map(function(e){return[e,this.invertedIndex[e]]},this),t=Object.keys(this.fieldVectors).map(function(e){return[e,this.fieldVectors[e].toJSON()]},this);return{version:T.version,fields:this.fields,fieldVectors:t,invertedIndex:e,pipeline:this.pipeline.toJSON()}},T.Index.load=function(e){var t={},r={},n=e.fieldVectors,i={},s=e.invertedIndex,o=new T.TokenSet.Builder,a=T.Pipeline.load(e.pipeline);e.version!=T.version&&T.utils.warn("Version mismatch when loading serialised index. Current version of lunr '"+T.version+"' does not match serialized index '"+e.version+"'");for(var l=0;l<n.length;l++){var u=(d=n[l])[0],c=d[1];r[u]=new T.Vector(c)}for(l=0;l<s.length;l++){var d,h=(d=s[l])[0],f=d[1];o.insert(h),i[h]=f}return o.finish(),t.fields=e.fields,t.fieldVectors=r,t.invertedIndex=i,t.tokenSet=o.root,t.pipeline=a,new T.Index(t)},T.Builder=function(){this._ref="id",this._fields=Object.create(null),this._documents=Object.create(null),this.invertedIndex=Object.create(null),this.fieldTermFrequencies={},this.fieldLengths={},this.tokenizer=T.tokenizer,this.pipeline=new T.Pipeline,this.searchPipeline=new T.Pipeline,this.documentCount=0,this._b=.75,this._k1=1.2,this.termIndex=0,this.metadataWhitelist=[]},T.Builder.prototype.ref=function(e){this._ref=e},T.Builder.prototype.field=function(e,t){if(/\//.test(e))throw new RangeError("Field '"+e+"' contains illegal character '/'");this._fields[e]=t||{}},T.Builder.prototype.b=function(e){this._b=e<0?0:e>1?1:e},T.Builder.prototype.k1=function(e){this._k1=e},T.Builder.prototype.add=function(e,t){var r=e[this._ref],n=Object.keys(this._fields);this._documents[r]=t||{},this.documentCount+=1;for(var i=0;i<n.length;i++){var s=n[i],o=this._fields[s].extractor,a=o?o(e):e[s],l=this.tokenizer(a,{fields:[s]}),u=this.pipeline.run(l),c=new T.FieldRef(r,s),d=Object.create(null);this.fieldTermFrequencies[c]=d,this.fieldLengths[c]=0,this.fieldLengths[c]+=u.length;for(var h=0;h<u.length;h++){var f=u[h];if(void 0==d[f]&&(d[f]=0),d[f]+=1,void 0==this.invertedIndex[f]){var p=Object.create(null);p._index=this.termIndex,this.termIndex+=1;for(var g=0;g<n.length;g++)p[n[g]]=Object.create(null);this.invertedIndex[f]=p}void 0==this.invertedIndex[f][s][r]&&(this.invertedIndex[f][s][r]=Object.create(null));for(var m=0;m<this.metadataWhitelist.length;m++){var y=this.metadataWhitelist[m],v=f.metadata[y];void 0==this.invertedIndex[f][s][r][y]&&(this.invertedIndex[f][s][r][y]=[]),this.invertedIndex[f][s][r][y].push(v)}}}},T.Builder.prototype.calculateAverageFieldLengths=function(){for(var e=Object.keys(this.fieldLengths),t=e.length,r={},n={},i=0;i<t;i++){var s=T.FieldRef.fromString(e[i]),o=s.fieldName;n[o]||(n[o]=0),n[o]+=1,r[o]||(r[o]=0),r[o]+=this.fieldLengths[s]}var a=Object.keys(this._fields);for(i=0;i<a.length;i++){var l=a[i];r[l]=r[l]/n[l]}this.averageFieldLength=r},T.Builder.prototype.createFieldVectors=function(){for(var e={},t=Object.keys(this.fieldTermFrequencies),r=t.length,n=Object.create(null),i=0;i<r;i++){for(var s=T.FieldRef.fromString(t[i]),o=s.fieldName,a=this.fieldLengths[s],l=new T.Vector,u=this.fieldTermFrequencies[s],c=Object.keys(u),d=c.length,h=this._fields[o].boost||1,f=this._documents[s.docRef].boost||1,p=0;p<d;p++){var g,m,y,v=c[p],b=u[v],w=this.invertedIndex[v]._index;void 0===n[v]?(g=T.idf(this.invertedIndex[v],this.documentCount),n[v]=g):g=n[v],m=g*((this._k1+1)*b)/(this._k1*(1-this._b+this._b*(a/this.averageFieldLength[o]))+b),m*=h,m*=f,y=Math.round(1e3*m)/1e3,l.insert(w,y)}e[s]=l}this.fieldVectors=e},T.Builder.prototype.createTokenSet=function(){this.tokenSet=T.TokenSet.fromArray(Object.keys(this.invertedIndex).sort())},T.Builder.prototype.build=function(){return this.calculateAverageFieldLengths(),this.createFieldVectors(),this.createTokenSet(),new T.Index({invertedIndex:this.invertedIndex,fieldVectors:this.fieldVectors,tokenSet:this.tokenSet,fields:Object.keys(this._fields),pipeline:this.searchPipeline})},T.Builder.prototype.use=function(e){var t=Array.prototype.slice.call(arguments,1);t.unshift(this),e.apply(this,t)},T.MatchData=function(e,t,r){for(var n=Object.create(null),i=Object.keys(r||{}),s=0;s<i.length;s++){var o=i[s];n[o]=r[o].slice()}this.metadata=Object.create(null),void 0!==e&&(this.metadata[e]=Object.create(null),this.metadata[e][t]=n)},T.MatchData.prototype.combine=function(e){for(var t=Object.keys(e.metadata),r=0;r<t.length;r++){var n=t[r],i=Object.keys(e.metadata[n]);void 0==this.metadata[n]&&(this.metadata[n]=Object.create(null));for(var s=0;s<i.length;s++){var o=i[s],a=Object.keys(e.metadata[n][o]);void 0==this.metadata[n][o]&&(this.metadata[n][o]=Object.create(null));for(var l=0;l<a.length;l++){var u=a[l];void 0==this.metadata[n][o][u]?this.metadata[n][o][u]=e.metadata[n][o][u]:this.metadata[n][o][u]=this.metadata[n][o][u].concat(e.metadata[n][o][u])}}}},T.MatchData.prototype.add=function(e,t,r){if(!(e in this.metadata))return this.metadata[e]=Object.create(null),void(this.metadata[e][t]=r);if(t in this.metadata[e])for(var n=Object.keys(r),i=0;i<n.length;i++){var s=n[i];s in this.metadata[e][t]?this.metadata[e][t][s]=this.metadata[e][t][s].concat(r[s]):this.metadata[e][t][s]=r[s]}else this.metadata[e][t]=r},T.Query=function(e){this.clauses=[],this.allFields=e},T.Query.wildcard=new String("*"),T.Query.wildcard.NONE=0,T.Query.wildcard.LEADING=1,T.Query.wildcard.TRAILING=2,T.Query.presence={OPTIONAL:1,REQUIRED:2,PROHIBITED:3},T.Query.prototype.clause=function(e){return"fields"in e||(e.fields=this.allFields),"boost"in e||(e.boost=1),"usePipeline"in e||(e.usePipeline=!0),"wildcard"in e||(e.wildcard=T.Query.wildcard.NONE),e.wildcard&T.Query.wildcard.LEADING&&e.term.charAt(0)!=T.Query.wildcard&&(e.term="*"+e.term),e.wildcard&T.Query.wildcard.TRAILING&&e.term.slice(-1)!=T.Query.wildcard&&(e.term=e.term+"*"),"presence"in e||(e.presence=T.Query.presence.OPTIONAL),this.clauses.push(e),this},T.Query.prototype.isNegated=function(){for(var e=0;e<this.clauses.length;e++)if(this.clauses[e].presence!=T.Query.presence.PROHIBITED)return!1;return!0},T.Query.prototype.term=function(e,t){if(Array.isArray(e))return e.forEach(function(e){this.term(e,T.utils.clone(t))},this),this;var r=t||{};return r.term=e.toString(),this.clause(r),this},T.QueryParseError=function(e,t,r){this.name="QueryParseError",this.message=e,this.start=t,this.end=r},T.QueryParseError.prototype=new Error,T.QueryLexer=function(e){this.lexemes=[],this.str=e,this.length=e.length,this.pos=0,this.start=0,this.escapeCharPositions=[]},T.QueryLexer.prototype.run=function(){for(var e=T.QueryLexer.lexText;e;)e=e(this)},T.QueryLexer.prototype.sliceString=function(){for(var e=[],t=this.start,r=this.pos,n=0;n<this.escapeCharPositions.length;n++)r=this.escapeCharPositions[n],e.push(this.str.slice(t,r)),t=r+1;return e.push(this.str.slice(t,this.pos)),this.escapeCharPositions.length=0,e.join("")},T.QueryLexer.prototype.emit=function(e){this.lexemes.push({type:e,str:this.sliceString(),start:this.start,end:this.pos}),this.start=this.pos},T.QueryLexer.prototype.escapeCharacter=function(){this.escapeCharPositions.push(this.pos-1),this.pos+=1},T.QueryLexer.prototype.next=function(){if(this.pos>=this.length)return T.QueryLexer.EOS;var e=this.str.charAt(this.pos);return this.pos+=1,e},T.QueryLexer.prototype.width=function(){return this.pos-this.start},T.QueryLexer.prototype.ignore=function(){this.start==this.pos&&(this.pos+=1),this.start=this.pos},T.QueryLexer.prototype.backup=function(){this.pos-=1},T.QueryLexer.prototype.acceptDigitRun=function(){var e,t;do{t=(e=this.next()).charCodeAt(0)}while(t>47&&t<58);e!=T.QueryLexer.EOS&&this.backup()},T.QueryLexer.prototype.more=function(){return this.pos<this.length},T.QueryLexer.EOS="EOS",T.QueryLexer.FIELD="FIELD",T.QueryLexer.TERM="TERM",T.QueryLexer.EDIT_DISTANCE="EDIT_DISTANCE",T.QueryLexer.BOOST="BOOST",T.QueryLexer.PRESENCE="PRESENCE",T.QueryLexer.lexField=function(e){return e.backup(),e.emit(T.QueryLexer.FIELD),e.ignore(),T.QueryLexer.lexText},T.QueryLexer.lexTerm=function(e){if(e.width()>1&&(e.backup(),e.emit(T.QueryLexer.TERM)),e.ignore(),e.more())return T.QueryLexer.lexText},T.QueryLexer.lexEditDistance=function(e){return e.ignore(),e.acceptDigitRun(),e.emit(T.QueryLexer.EDIT_DISTANCE),T.QueryLexer.lexText},T.QueryLexer.lexBoost=function(e){return e.ignore(),e.acceptDigitRun(),e.emit(T.QueryLexer.BOOST),T.QueryLexer.lexText},T.QueryLexer.lexEOS=function(e){e.width()>0&&e.emit(T.QueryLexer.TERM)},T.QueryLexer.termSeparator=T.tokenizer.separator,T.QueryLexer.lexText=function(e){for(;;){var t=e.next();if(t==T.QueryLexer.EOS)return T.QueryLexer.lexEOS;if(92!=t.charCodeAt(0)){if(":"==t)return T.QueryLexer.lexField;if("~"==t)return e.backup(),e.width()>0&&e.emit(T.QueryLexer.TERM),T.QueryLexer.lexEditDistance;if("^"==t)return e.backup(),e.width()>0&&e.emit(T.QueryLexer.TERM),T.QueryLexer.lexBoost;if("+"==t&&1===e.width())return e.emit(T.QueryLexer.PRESENCE),T.QueryLexer.lexText;if("-"==t&&1===e.width())return e.emit(T.QueryLexer.PRESENCE),T.QueryLexer.lexText;if(t.match(T.QueryLexer.termSeparator))return T.QueryLexer.lexTerm}else e.escapeCharacter()}},T.QueryParser=function(e,t){this.lexer=new T.QueryLexer(e),this.query=t,this.currentClause={},this.lexemeIdx=0},T.QueryParser.prototype.parse=function(){this.lexer.run(),this.lexemes=this.lexer.lexemes;for(var e=T.QueryParser.parseClause;e;)e=e(this);return this.query},T.QueryParser.prototype.peekLexeme=function(){return this.lexemes[this.lexemeIdx]},T.QueryParser.prototype.consumeLexeme=function(){var e=this.peekLexeme();return this.lexemeIdx+=1,e},T.QueryParser.prototype.nextClause=function(){var e=this.currentClause;this.query.clause(e),this.currentClause={}},T.QueryParser.parseClause=function(e){var t=e.peekLexeme();if(void 0!=t)switch(t.type){case T.QueryLexer.PRESENCE:return T.QueryParser.parsePresence;case T.QueryLexer.FIELD:return T.QueryParser.parseField;case T.QueryLexer.TERM:return T.QueryParser.parseTerm;default:var r="expected either a field or a term, found "+t.type;throw t.str.length>=1&&(r+=" with value '"+t.str+"'"),new T.QueryParseError(r,t.start,t.end)}},T.QueryParser.parsePresence=function(e){var t=e.consumeLexeme();if(void 0!=t){switch(t.str){case"-":e.currentClause.presence=T.Query.presence.PROHIBITED;break;case"+":e.currentClause.presence=T.Query.presence.REQUIRED;break;default:var r="unrecognised presence operator'"+t.str+"'";throw new T.QueryParseError(r,t.start,t.end)}var n=e.peekLexeme();if(void 0==n){r="expecting term or field, found nothing";throw new T.QueryParseError(r,t.start,t.end)}switch(n.type){case T.QueryLexer.FIELD:return T.QueryParser.parseField;case T.QueryLexer.TERM:return T.QueryParser.parseTerm;default:r="expecting term or field, found '"+n.type+"'";throw new T.QueryParseError(r,n.start,n.end)}}},T.QueryParser.parseField=function(e){var t=e.consumeLexeme();if(void 0!=t){if(-1==e.query.allFields.indexOf(t.str)){var r=e.query.allFields.map(function(e){return"'"+e+"'"}).join(", "),n="unrecognised field '"+t.str+"', possible fields: "+r;throw new T.QueryParseError(n,t.start,t.end)}e.currentClause.fields=[t.str];var i=e.peekLexeme();if(void 0==i){n="expecting term, found nothing";throw new T.QueryParseError(n,t.start,t.end)}switch(i.type){case T.QueryLexer.TERM:return T.QueryParser.parseTerm;default:n="expecting term, found '"+i.type+"'";throw new T.QueryParseError(n,i.start,i.end)}}},T.QueryParser.parseTerm=function(e){var t=e.consumeLexeme();if(void 0!=t){e.currentClause.term=t.str.toLowerCase(),-1!=t.str.indexOf("*")&&(e.currentClause.usePipeline=!1);var r=e.peekLexeme();if(void 0!=r)switch(r.type){case T.QueryLexer.TERM:return e.nextClause(),T.QueryParser.parseTerm;case T.QueryLexer.FIELD:return e.nextClause(),T.QueryParser.parseField;case T.QueryLexer.EDIT_DISTANCE:return T.QueryParser.parseEditDistance;case T.QueryLexer.BOOST:return T.QueryParser.parseBoost;case T.QueryLexer.PRESENCE:return e.nextClause(),T.QueryParser.parsePresence;default:var n="Unexpected lexeme type '"+r.type+"'";throw new T.QueryParseError(n,r.start,r.end)}else e.nextClause()}},T.QueryParser.parseEditDistance=function(e){var t=e.consumeLexeme();if(void 0!=t){var r=parseInt(t.str,10);if(isNaN(r)){var n="edit distance must be numeric";throw new T.QueryParseError(n,t.start,t.end)}e.currentClause.editDistance=r;var i=e.peekLexeme();if(void 0!=i)switch(i.type){case T.QueryLexer.TERM:return e.nextClause(),T.QueryParser.parseTerm;case T.QueryLexer.FIELD:return e.nextClause(),T.QueryParser.parseField;case T.QueryLexer.EDIT_DISTANCE:return T.QueryParser.parseEditDistance;case T.QueryLexer.BOOST:return T.QueryParser.parseBoost;default:n="Unexpected lexeme type '"+i.type+"'";throw new T.QueryParseError(n,i.start,i.end)}else e.nextClause()}},T.QueryParser.parseBoost=function(e){var t=e.consumeLexeme();if(void 0!=t){var r=parseInt(t.str,10);if(isNaN(r)){var n="boost must be numeric";throw new T.QueryParseError(n,t.start,t.end)}e.currentClause.boost=r;var i=e.peekLexeme();if(void 0!=i)switch(i.type){case T.QueryLexer.TERM:return e.nextClause(),T.QueryParser.parseTerm;case T.QueryLexer.FIELD:return e.nextClause(),T.QueryParser.parseField;case T.QueryLexer.EDIT_DISTANCE:return T.QueryParser.parseEditDistance;case T.QueryLexer.BOOST:return T.QueryParser.parseBoost;default:n="Unexpected lexeme type '"+i.type+"'";throw new T.QueryParseError(n,i.start,i.end)}else e.nextClause()}},L=this,E=function(){return T},"function"==typeof define&&define.amd?define(E):"object"==typeof exports?module.exports=E():L.lunr=E()}();var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function closest(e,t){var r,n;for(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some(function(e){return"function"==typeof document.body[e]&&(r=e,!0)});e;){if((n=e.parentElement)&&n[r](t))return n;e=n}return null}!function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.LazyLoad=t()}(this,function(){"use strict";var e=!("onscroll"in window)||/glebot/.test(navigator.userAgent),t=function(e,t){e&&e(t)},r=function(e){return e.getBoundingClientRect().top+window.pageYOffset-e.ownerDocument.documentElement.clientTop},n=function(e){return e.getBoundingClientRect().left+window.pageXOffset-e.ownerDocument.documentElement.clientLeft},i=function(e,t,i){return!(g=e,m=t,y=i,(m===window?window.innerHeight+window.pageYOffset:r(m)+m.offsetHeight)<=r(g)-y||(h=e,f=t,p=i,(f===window?window.pageYOffset:r(f))>=r(h)+p+h.offsetHeight)||(l=e,u=t,c=i,d=window.innerWidth,(u===window?d+window.pageXOffset:n(u)+d)<=n(l)-c)||(s=e,o=t,a=i,(o===window?window.pageXOffset:n(o))>=n(s)+a+s.offsetWidth));var s,o,a,l,u,c,d,h,f,p,g,m,y},s=function(e,t){var r,n="LazyLoad::Initialized",i=new e(t);try{r=new CustomEvent(n,{detail:{instance:i}})}catch(e){(r=document.createEvent("CustomEvent")).initCustomEvent(n,!1,!1,{instance:i})}window.dispatchEvent(r)},o=function(e,t){return e.getAttribute("data-"+t)},a=function(e,t,r){var n=e.tagName,i=o(e,r);if("IMG"===n){!function(e,t){var r=e.parentNode;if(!r||"PICTURE"===r.tagName)for(var n=0;n<r.children.length;n++){var i=r.children[n];if("SOURCE"===i.tagName){var s=o(i,t);s&&i.setAttribute("srcset",s)}}}(e,t);var s=o(e,t);return s&&e.setAttribute("srcset",s),void(i&&e.setAttribute("src",i))}"IFRAME"!==n?i&&(e.style.backgroundImage='url("'+i+'")'):i&&e.setAttribute("src",i)},l="undefined"!=typeof window,u=l&&"classList"in document.createElement("p"),c=function(e,t){u?e.classList.add(t):e.className+=(e.className?" ":"")+t},d=function(e,t){u?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")},h=function(e){this._settings=_extends({},{elements_selector:"img",container:window,threshold:300,throttle:150,data_src:"src",data_srcset:"srcset",class_loading:"loading",class_loaded:"loaded",class_error:"error",class_initial:"initial",skip_invisible:!0,callback_load:null,callback_error:null,callback_set:null,callback_processed:null,callback_enter:null},e),this._queryOriginNode=this._settings.container===window?document:this._settings.container,this._previousLoopTime=0,this._loopTimeout=null,this._boundHandleScroll=this.handleScroll.bind(this),this._isFirstLoop=!0,window.addEventListener("resize",this._boundHandleScroll),this.update()};h.prototype={_reveal:function(e){var r=this._settings,n=function n(){r&&(e.removeEventListener("load",i),e.removeEventListener("error",n),d(e,r.class_loading),c(e,r.class_error),t(r.callback_error,e))},i=function i(){r&&(d(e,r.class_loading),c(e,r.class_loaded),e.removeEventListener("load",i),e.removeEventListener("error",n),t(r.callback_load,e))};t(r.callback_enter,e),"IMG"!==e.tagName&&"IFRAME"!==e.tagName||(e.addEventListener("load",i),e.addEventListener("error",n),c(e,r.class_loading)),a(e,r.data_srcset,r.data_src),t(r.callback_set,e)},_loopThroughElements:function(){var r,n,s=this._settings,o=this._elements,a=o?o.length:0,l=void 0,u=[],d=this._isFirstLoop;for(l=0;l<a;l++){var h=o[l];s.skip_invisible&&null===h.offsetParent||(e||i(h,s.container,s.threshold))&&(d&&c(h,s.class_initial),this._reveal(h),u.push(l),r="was-processed",n=!0,h.setAttribute("data-"+r,n))}for(;u.length;)o.splice(u.pop(),1),t(s.callback_processed,o.length);0===a&&this._stopScrollHandler(),d&&(this._isFirstLoop=!1)},_purgeElements:function(){var e=this._elements,t=e.length,r=void 0,n=[];for(r=0;r<t;r++){var i=e[r];o(i,"was-processed")&&n.push(r)}for(;n.length>0;)e.splice(n.pop(),1)},_startScrollHandler:function(){this._isHandlingScroll||(this._isHandlingScroll=!0,this._settings.container.addEventListener("scroll",this._boundHandleScroll))},_stopScrollHandler:function(){this._isHandlingScroll&&(this._isHandlingScroll=!1,this._settings.container.removeEventListener("scroll",this._boundHandleScroll))},handleScroll:function(){var e=this._settings.throttle;if(0!==e){var t=Date.now(),r=e-(t-this._previousLoopTime);r<=0||r>e?(this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null),this._previousLoopTime=t,this._loopThroughElements()):this._loopTimeout||(this._loopTimeout=setTimeout(function(){this._previousLoopTime=Date.now(),this._loopTimeout=null,this._loopThroughElements()}.bind(this),r))}else this._loopThroughElements()},update:function(){this._elements=Array.prototype.slice.call(this._queryOriginNode.querySelectorAll(this._settings.elements_selector)),this._purgeElements(),this._loopThroughElements(),this._startScrollHandler()},destroy:function(){window.removeEventListener("resize",this._boundHandleScroll),this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null),this._stopScrollHandler(),this._elements=null,this._queryOriginNode=null,this._settings=null}};var f=window.lazyLoadOptions;return l&&f&&function(e,t){var r=t.length;if(r)for(var n=0;n<r;n++)s(e,t[n]);else s(e,t)}(h,f),h}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).fitvids=e()}}(function(){return function e(t,r,n){function i(o,a){if(!r[o]){if(!t[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(s)return s(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[o]={exports:{}};t[o][0].call(c.exports,function(e){var r=t[o][1][e];return i(r||e)},c,c.exports,e,t,r,n)}return r[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,r){"use strict";var n=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object"],i=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}";function s(e,t){return"string"==typeof e&&(t=e,e=document),Array.prototype.slice.call(e.querySelectorAll(t))}function o(e){if(!/fluid-width-video-wrapper/.test(e.parentNode.className)){var t=parseInt(e.getAttribute("width"),10),r=parseInt(e.getAttribute("height"),10),n=isNaN(t)?e.clientWidth:t,i=(isNaN(r)?e.clientHeight:r)/n;e.removeAttribute("width"),e.removeAttribute("height");var s=document.createElement("div");e.parentNode.insertBefore(s,e),s.className="fluid-width-video-wrapper",s.style.paddingTop=100*i+"%",s.appendChild(e)}}function a(e){return void 0===e?"":Array.isArray(e)?e.join():e}t.exports=function(e,t){var r;t=t||{},r=e=e||"body","[object Object]"===Object.prototype.toString.call(r)&&(t=e,e="body");var l=s(e);if(!(l.length<1)){var u;if(!document.getElementById("fit-vids-style"))(document.head||document.getElementsByTagName("head")[0]).appendChild(((u=document.createElement("div")).innerHTML='<p>x</p><style id="fit-vids-style">'+i+"</style>",u.childNodes[1]));var c=a(t.players),d=a(n);c.length&&(d=d+","+c),l.forEach(function(e){s(e,d).forEach(o)})}}},{}]},{},[1])(1)}),"function"!=typeof Object.assign&&(Object.assign=function(e){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);for(var t=1;t<arguments.length;t++){var r=arguments[t];if(null!=r)for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e});var ghostHunterDefaults={resultsData:!1,onPageLoad:!0,onKeyUp:!1,result_template:"<a href='{{link}}'><p><h2>{{title}}</h2><h4>{{prettyPubDate}}</h4></p></a>",info_template:"<p>Number of posts found: {{amount}}</p>",displaySearchInfo:!0,zeroResultsInfo:!0,before:!1,onComplete:!1,includepages:!1,filterfields:!1,subpath:"",item_preprocessor:!1,indexing_start:!1,indexing_end:!1},prettyDate=function(e){var t=new Date(e);return t.getDate()+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()]+" "+t.getFullYear()},getSubpathKey=function(e){return e.replace(/^\//,"").replace(/\//g,"-")},grabAndIndex=function(){this.indexing_start&&this.indexing_start(),this.blogData={},this.latestPost=0;var e={limit:"500",include:"tags",formats:["plaintext"]};this.includepages&&(e.filter="(page:true,page:false)");var t=this,r=new XMLHttpRequest;r.open("GET",ghost.url.api("posts",e),!0),r.onload=function(){if(r.status>=200&&r.status<400){var e=JSON.parse(r.responseText).posts;t.index=lunr(function(){this.field("title",{boost:10}),this.field("description"),this.field("plaintext",{boost:5}),this.field("pubDate"),this.field("tag"),this.ref("id"),e.forEach(function(e){new Date(e.updated_at).getTime()>new Date(t.latestPost).getTime()&&(t.latestPost=e.updated_at);var r=e.tags.map(function(e){return e.name});null==e.meta_description&&(e.meta_description="");var n=r.join(", ");n.length<1&&(n="undefined");var i={id:String(e.id),title:String(e.title),description:String(e.meta_description),plaintext:String(e.plaintext),pubDate:String(e.published_at),tag:n};this.add(i);var s=t.subpath+e.url;t.blogData[e.id]={title:e.title,description:e.meta_description,pubDate:prettyDate(i.pubDate),link:s,tags:r},t.item_preprocessor&&Object.assign(t.blogData[e.id],t.item_preprocessor(e))},this),t.indexing_end&&t.indexing_end()});try{var n=getSubpathKey(t.subpath);localStorage.setItem("ghost_"+n+"_lunrIndex",JSON.stringify(t.index)),localStorage.setItem("ghost_"+n+"_blogData",JSON.stringify(t.blogData)),localStorage.setItem("ghost_"+n+"_latestPost",t.latestPost)}catch(e){console.warn("ghostHunter: save to localStorage failed: "+e)}t.isInit=!0}},r.onerror=function(){},r.send()},pluginMethods={isInit:!1,init:function(e,t){var r=this;if(Object.assign(this,t),t.onPageLoad){window.setTimeout(function(){r.loadAPI()},1)}else e.focus(function(){r.loadAPI()});closest(e,"form").addEventListener("submit",function(t){t.preventDefault(),r.find(e.value)},!0),t.onKeyUp&&e.addEventListener("keyup",function(){r.find(e.value)})},loadAPI:function(){if(!this.isInit)try{var e=getSubpathKey(this.subpath);this.index=localStorage.getItem("ghost_"+e+"_lunrIndex"),this.blogData=localStorage.getItem("ghost_"+e+"_blogData"),this.latestPost=localStorage.getItem("ghost_"+e+"_latestPost"),this.latestPost&&this.index&&this.blogData&&(this.latestPost=this.latestPost,this.index=lunr.Index.load(JSON.parse(this.index)),this.blogData=JSON.parse(this.blogData),this.isInit=!0)}catch(e){console.warn("ghostHunter: retrieve from localStorage failed: "+e)}if(this.isInit){var t={limit:"500",filter:"updated_at:>'"+this.latestPost+"'",fields:"id"},r=this,n=new XMLHttpRequest;n.open("GET",ghost.url.api("posts",t),!0),n.onload=function(){n.status>=200&&n.status<400&&(JSON.parse(n.responseText).posts.length>0&&grabAndIndex.call(r))},n.onerror=function(){},n.send()}else grabAndIndex.call(this)},find:function(e){for(var t=this.index.search(e),r=document.querySelector(this.results),n=[];r.firstChild;)r.removeChild(r.firstChild);this.before&&this.before(),(this.zeroResultsInfo||t.length>0)&&this.displaySearchInfo&&(r.innerHTML+=this.format(this.info_template,{amount:t.length}));for(var i=0;i<t.length;i++){var s=t[i].ref,o=this.blogData[s];o?(r.innerHTML+=this.format(this.result_template,o),n.push(o)):console.warn("ghostHunter: index/data mismatch. Ouch.")}this.onComplete&&this.onComplete(n)},clear:function(){for(var e=document.querySelector(this.results);e.firstChild;)e.removeChild(e.firstChild)},format:function(e,t){return e.replace(/{{([^{}]*)}}/g,function(e,r){var n=t[r];return"string"==typeof n||"number"==typeof n?n:e})}},GhostHunter=function(e){this.element=e};GhostHunter.prototype={init:function(e){var t=Object.assign(ghostHunterDefaults,e);if(t.results)return pluginMethods.init(this.element,t),pluginMethods},clear:function(e){return pluginMethods.clear(),pluginMethods}};var _self="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},Prism=function(){var e=/\blang(?:uage)?-([\w-]+)\b/i,t=0,r=_self.Prism={manual:_self.Prism&&_self.Prism.manual,disableWorkerMessageHandler:_self.Prism&&_self.Prism.disableWorkerMessageHandler,util:{encode:function(e){return e instanceof n?new n(e.type,r.util.encode(e.content),e.alias):"Array"===r.util.type(e)?e.map(r.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++t}),e.__id},clone:function(e,t){var n=r.util.type(e);switch(t=t||{},n){case"Object":if(t[r.util.objId(e)])return t[r.util.objId(e)];var i={};for(var s in t[r.util.objId(e)]=i,e)e.hasOwnProperty(s)&&(i[s]=r.util.clone(e[s],t));return i;case"Array":if(t[r.util.objId(e)])return t[r.util.objId(e)];i=[];return t[r.util.objId(e)]=i,e.forEach(function(e,n){i[n]=r.util.clone(e,t)}),i}return e}},languages:{extend:function(e,t){var n=r.util.clone(r.languages[e]);for(var i in t)n[i]=t[i];return n},insertBefore:function(e,t,n,i){var s=(i=i||r.languages)[e];if(2==arguments.length){for(var o in n=arguments[1])n.hasOwnProperty(o)&&(s[o]=n[o]);return s}var a={};for(var l in s)if(s.hasOwnProperty(l)){if(l==t)for(var o in n)n.hasOwnProperty(o)&&(a[o]=n[o]);a[l]=s[l]}return r.languages.DFS(r.languages,function(t,r){r===i[e]&&t!=e&&(this[t]=a)}),i[e]=a},DFS:function(e,t,n,i){for(var s in i=i||{},e)e.hasOwnProperty(s)&&(t.call(e,s,e[s],n||s),"Object"!==r.util.type(e[s])||i[r.util.objId(e[s])]?"Array"!==r.util.type(e[s])||i[r.util.objId(e[s])]||(i[r.util.objId(e[s])]=!0,r.languages.DFS(e[s],t,s,i)):(i[r.util.objId(e[s])]=!0,r.languages.DFS(e[s],t,null,i)))}},plugins:{},highlightAll:function(e,t){r.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var i={callback:n,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};r.hooks.run("before-highlightall",i);for(var s,o=i.elements||e.querySelectorAll(i.selector),a=0;s=o[a++];)r.highlightElement(s,!0===t,i.callback)},highlightElement:function(t,n,i){for(var s,o,a=t;a&&!e.test(a.className);)a=a.parentNode;a&&(s=(a.className.match(e)||[,""])[1].toLowerCase(),o=r.languages[s]),t.className=t.className.replace(e,"").replace(/\s+/g," ")+" language-"+s,t.parentNode&&(a=t.parentNode,/pre/i.test(a.nodeName)&&(a.className=a.className.replace(e,"").replace(/\s+/g," ")+" language-"+s));var l={element:t,language:s,grammar:o,code:t.textContent};if(r.hooks.run("before-sanity-check",l),!l.code||!l.grammar)return l.code&&(r.hooks.run("before-highlight",l),l.element.textContent=l.code,r.hooks.run("after-highlight",l)),void r.hooks.run("complete",l);if(r.hooks.run("before-highlight",l),n&&_self.Worker){var u=new Worker(r.filename);u.onmessage=function(e){l.highlightedCode=e.data,r.hooks.run("before-insert",l),l.element.innerHTML=l.highlightedCode,i&&i.call(l.element),r.hooks.run("after-highlight",l),r.hooks.run("complete",l)},u.postMessage(JSON.stringify({language:l.language,code:l.code,immediateClose:!0}))}else l.highlightedCode=r.highlight(l.code,l.grammar,l.language),r.hooks.run("before-insert",l),l.element.innerHTML=l.highlightedCode,i&&i.call(t),r.hooks.run("after-highlight",l),r.hooks.run("complete",l)},highlight:function(e,t,i){var s={code:e,grammar:t,language:i};return r.hooks.run("before-tokenize",s),s.tokens=r.tokenize(s.code,s.grammar),r.hooks.run("after-tokenize",s),n.stringify(r.util.encode(s.tokens),s.language)},matchGrammar:function(e,t,n,i,s,o,a){var l=r.Token;for(var u in n)if(n.hasOwnProperty(u)&&n[u]){if(u==a)return;var c=n[u];c="Array"===r.util.type(c)?c:[c];for(var d=0;d<c.length;++d){var h=c[d],f=h.inside,p=!!h.lookbehind,g=!!h.greedy,m=0,y=h.alias;if(g&&!h.pattern.global){var v=h.pattern.toString().match(/[imuy]*$/)[0];h.pattern=RegExp(h.pattern.source,v+"g")}h=h.pattern||h;for(var b=i,w=s;b<t.length;w+=t[b].length,++b){var x=t[b];if(t.length>e.length)return;if(!(x instanceof l)){if(g&&b!=t.length-1){if(h.lastIndex=w,!(E=h.exec(e)))break;for(var k=E.index+(p?E[1].length:0),_=E.index+E[0].length,S=b,P=w,L=t.length;L>S&&(_>P||!t[S].type&&!t[S-1].greedy);++S)k>=(P+=t[S].length)&&(++b,w=P);if(t[b]instanceof l)continue;T=S-b,x=e.slice(w,P),E.index-=w}else{h.lastIndex=0;var E=h.exec(x),T=1}if(E){p&&(m=E[1]?E[1].length:0);_=(k=E.index+m)+(E=E[0].slice(m)).length;var O=x.slice(0,k),I=x.slice(_),Q=[b,T];O&&(++b,w+=O.length,Q.push(O));var F=new l(u,f?r.tokenize(E,f):E,y,E,g);if(Q.push(F),I&&Q.push(I),Array.prototype.splice.apply(t,Q),1!=T&&r.matchGrammar(e,t,n,b,w,!0,u),o)break}else if(o)break}}}}},tokenize:function(e,t){var n=[e],i=t.rest;if(i){for(var s in i)t[s]=i[s];delete t.rest}return r.matchGrammar(e,n,t,0,0,!1),n},hooks:{all:{},add:function(e,t){var n=r.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=r.hooks.all[e];if(n&&n.length)for(var i,s=0;i=n[s++];)i(t)}}},n=r.Token=function(e,t,r,n,i){this.type=e,this.content=t,this.alias=r,this.length=0|(n||"").length,this.greedy=!!i};if(n.stringify=function(e,t,i){if("string"==typeof e)return e;if("Array"===r.util.type(e))return e.map(function(r){return n.stringify(r,t,e)}).join("");var s={type:e.type,content:n.stringify(e.content,t,i),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:i};if(e.alias){var o="Array"===r.util.type(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(s.classes,o)}r.hooks.run("wrap",s);var a=Object.keys(s.attributes).map(function(e){return e+'="'+(s.attributes[e]||"").replace(/"/g,"&quot;")+'"'}).join(" ");return"<"+s.tag+' class="'+s.classes.join(" ")+'"'+(a?" "+a:"")+">"+s.content+"</"+s.tag+">"},!_self.document)return _self.addEventListener?(r.disableWorkerMessageHandler||_self.addEventListener("message",function(e){var t=JSON.parse(e.data),n=t.language,i=t.code,s=t.immediateClose;_self.postMessage(r.highlight(i,r.languages[n],n)),s&&_self.close()},!1),_self.Prism):_self.Prism;var i=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return i&&(r.filename=i.src,r.manual||i.hasAttribute("data-manual")||("loading"!==document.readyState?window.requestAnimationFrame?window.requestAnimationFrame(r.highlightAll):window.setTimeout(r.highlightAll,16):document.addEventListener("DOMContentLoaded",r.highlightAll))),_self.Prism}();"undefined"!=typeof module&&module.exports&&(module.exports=Prism),"undefined"!=typeof global&&(global.Prism=Prism),Prism.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:/<!DOCTYPE[\s\S]+?>/i,cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+))?)*\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/(^|[^\\])["']/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),Prism.languages.xml=Prism.languages.markup,Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+?.*?(?:;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:/url\((?:(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1|.*?)\)/i,selector:/[^{}\s][^{};]*?(?=\s*\{)/,string:{pattern:/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},property:/[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,important:/\B!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:]/},Prism.languages.css.atrule.inside.rest=Prism.languages.css,Prism.languages.markup&&(Prism.languages.insertBefore("markup","tag",{style:{pattern:/(<style[\s\S]*?>)[\s\S]*?(?=<\/style>)/i,lookbehind:!0,inside:Prism.languages.css,alias:"language-css",greedy:!0}}),Prism.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:Prism.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:Prism.languages.css}},alias:"language-css"}},Prism.languages.markup.tag)),Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/[a-z0-9_]+(?=\()/i,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},Prism.languages.javascript=Prism.languages.extend("clike",{keyword:/\b(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|var|void|while|with|yield)\b/,number:/\b(?:0[xX][\dA-Fa-f]+|0[bB][01]+|0[oO][0-7]+|NaN|Infinity)\b|(?:\b\d+\.?\d*|\B\.\d+)(?:[Ee][+-]?\d+)?/,function:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*\()/i,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/}),Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[[^\]\r\n]+]|\\.|[^\/\\\[\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=\s*(?:function\b|(?:\([^()]*\)|[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/i,alias:"function"},constant:/\b[A-Z][A-Z\d_]*\b/}),Prism.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|[^\\`])*`/,greedy:!0,inside:{interpolation:{pattern:/\$\{[^}]+\}/,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}}}),Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{script:{pattern:/(<script[\s\S]*?>)[\s\S]*?(?=<\/script>)/i,lookbehind:!0,inside:Prism.languages.javascript,alias:"language-javascript",greedy:!0}}),Prism.languages.js=Prism.languages.javascript,Prism.languages["markup-templating"]={},Object.defineProperties(Prism.languages["markup-templating"],{buildPlaceholders:{value:function(e,t,r,n){e.language===t&&(e.tokenStack=[],e.code=e.code.replace(r,function(r){if("function"==typeof n&&!n(r))return r;for(var i=e.tokenStack.length;-1!==e.code.indexOf("___"+t.toUpperCase()+i+"___");)++i;return e.tokenStack[i]=r,"___"+t.toUpperCase()+i+"___"}),e.grammar=Prism.languages.markup)}},tokenizePlaceholders:{value:function(e,t){if(e.language===t&&e.tokenStack){e.grammar=Prism.languages[t];var r=0,n=Object.keys(e.tokenStack),i=function(s){if(!(r>=n.length))for(var o=0;o<s.length;o++){var a=s[o];if("string"==typeof a||a.content&&"string"==typeof a.content){var l=n[r],u=e.tokenStack[l],c="string"==typeof a?a:a.content,d=c.indexOf("___"+t.toUpperCase()+l+"___");if(d>-1){++r;var h,f=c.substring(0,d),p=new Prism.Token(t,Prism.tokenize(u,e.grammar,t),"language-"+t,u),g=c.substring(d+("___"+t.toUpperCase()+l+"___").length);if(f||g?(h=[f,p,g].filter(function(e){return!!e}),i(h)):h=p,"string"==typeof a?Array.prototype.splice.apply(s,[o,1].concat(h)):a.content=h,r>=n.length)break}}else a.content&&"string"!=typeof a.content&&i(a.content)}};i(e.tokens)}}}}),function(e){e.languages.handlebars={comment:/\{\{![\s\S]*?\}\}/,delimiter:{pattern:/^\{\{\{?|\}\}\}?$/i,alias:"punctuation"},string:/(["'])(?:\\.|(?!\1)[^\\\r\n])*\1/,number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:[Ee][+-]?\d+)?/,boolean:/\b(?:true|false)\b/,block:{pattern:/^(\s*~?\s*)[#\/]\S+?(?=\s*~?\s*$|\s)/i,lookbehind:!0,alias:"keyword"},brackets:{pattern:/\[[^\]]+\]/,inside:{punctuation:/\[|\]/,variable:/[\s\S]+/}},punctuation:/[!"#%&'()*+,.\/;<=>@\[\\\]^`{|}~]/,variable:/[^!"#%&'()*+,.\/;<=>@\[\\\]^`{|}~\s]+/},e.hooks.add("before-tokenize",function(t){e.languages["markup-templating"].buildPlaceholders(t,"handlebars",/\{\{\{[\s\S]+?\}\}\}|\{\{[\s\S]+?\}\}/g)}),e.hooks.add("after-tokenize",function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"handlebars")})}(Prism);var callback=function(){fitvids(),lazyLoad=newLazyLoad();for(var e=document.querySelectorAll(".js-fadein"),t=0;t<e.length;t++)!0===isInViewport(e[t])&&(e[t].classList.add("is-in-view"),e[t].classList.remove("js-fadein"));window.addEventListener("scroll",function(e){for(var t=document.querySelectorAll(".js-fadein"),r=0;r<t.length;r++)!0===isInViewport(t[r])&&(t[r].classList.add("is-in-view"),t[r].classList.remove("js-fadein"))},!1);var r=document.getElementById("comments");if(r){var n=function(e){1==isInViewport(r)&&(loadComments(),document.removeEventListener("scroll",n,!0))};document.addEventListener("scroll",n,!0)}if(1===maxPages){var i=document.getElementById("load-more-btn");i.disabled=!0,i.classList.add("btn--disabled")}var s=document.getElementById("search-open"),o=document.getElementById("search-form"),a=document.getElementById("search-close"),l=document.getElementById("search-field"),u=document.getElementById("search");u.style;s.onclick=function(){u.classList.add("is-active"),document.body.style.overflowY="hidden",l.focus()},document.onkeydown=function(e){("key"in(e=e||window.event)?"Escape"==e.key||"Esc"==e.key:27==e.keyCode)&&(u.classList.remove("is-active"),document.body.style.overflowY="auto")},a.onclick=function(){u.classList.remove("is-active"),document.body.style.overflowY="auto"},l.onfocus=function(){o.classList.add("focused")},l.onblur=function(){o.classList.remove("focused")};var c=new GhostHunter(document.querySelector("#search-field"));c.init({results:"#results",onKeyUp:!0,includepages:!1,onPageLoad:!0,info_template:'<p class="search__result-amount">{{amount}} posts found</p>',result_template:'<div class="search__result-post"><p class="search__result-date">{{pubDate}}</p><h5 class="search__result-title"><a href="{{link}}">{{title}}</a></h5></div>'}),l.addEventListener("keyup",function(){""===l.value&&c.clear()})};function isInViewport(e){for(var t=e.offsetTop,r=e.offsetLeft,n=e.offsetWidth,i=e.offsetHeight;e.offsetParent;)t+=(e=e.offsetParent).offsetTop,r+=e.offsetLeft;return t<window.pageYOffset+window.innerHeight&&r<window.pageXOffset+window.innerWidth&&t+i>window.pageYOffset&&r+n>window.pageXOffset}function newLazyLoad(){return new LazyLoad({elements_selector:".lazyload",class_loading:"loading",class_loaded:"loaded",treshold:100,callback_enter:function(e){e.classList.add("loading")},callback_set:function(e){e.classList.remove("loading"),e.classList.add("loaded")}})}function updateLazyLoad(e){e.update()}function addClass(e,t){elements=document.querySelectorAll(e);for(var r=0;r<elements.length;r++)elements[r].classList.add(t)}function removeClass(e,t){elements=document.querySelectorAll(e);for(var r=0;r<elements.length;r++)elements[r].classList.remove(t)}function loadComments(){var e,t;e=document,(t=e.createElement("script")).src="//"+disqus_shortname+".disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)}function getGhostData(e,t){var r=new XMLHttpRequest;r.onreadystatechange=function(){4==r.readyState&&200==r.status&&t(r.responseText)},r.open("GET",e,!0),r.send(null)}"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?callback():document.addEventListener("DOMContentLoaded",callback);var currentPage=1;function loadMorePosts(){if(!(currentPage>maxPages)){var e=window.location.pathname,t=document.getElementById("load-more-btn");getGhostData(e+"page/"+(currentPage+=1)+"/",appendPosts),currentPage===maxPages&&t&&(t.disabled=!0,t.classList.add("btn--disabled"))}}function appendPosts(e){var t,r=document.getElementsByClassName("more-posts-wrapper"),n=document.createRange().createContextualFragment(e),i=n.querySelectorAll(".post-card"),s=n.querySelectorAll(".post-wrapper");if(s.length?t=s:i.length&&(t=i),t.length){for(var o=0;o<t.length;o++)t[o].classList.remove("post-card--latest"),t[o].classList.remove("reverse"),o%2!=0&&t[o].classList.add("reverse"),r[0].appendChild(t[o]);updateLazyLoad(lazyLoad)}}